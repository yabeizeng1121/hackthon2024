<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex and Mia</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
</head>
<body>
    <header class="header">
        <div class="logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="8" r="4"/>
                <path d="M18 21v-2a4 4 0 0 0-4-4H10a4 4 0 0 0-4 4v2"/>
            </svg>
            <h1>Alex and Mia</h1>
        </div>
        <button class="theme-toggle" onclick="toggleTheme()">
            <span class="mode-icon">ðŸŒž</span>
            <span class="mode-text">Switch Theme</span>
        </button>
    </header>

    <main class="main-container">
        <section class="video-section">
            <div class="video-feed">
                <img id="video" src="{{ url_for('video_feed') }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 0.5rem;">
            </div>
            <div class="controls">
                <button id="controlButton" class="record-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <circle cx="12" cy="12" r="4" fill="currentColor"/>
                    </svg>
                    Start Recording
                </button>
            </div>
        </section>

        <section class="analysis-section">
            <div class="emotion-card">
                <h2 class="emotion-heading">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/>
                        <path d="M8 13h8m-4-7v2m0 12v2"/>
                    </svg>
                    Current Emotion Analysis
                </h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">Session Duration</div>
                        <div class="stat-value" id="sessionTime">00:00</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Dominant Emotion</div>
                        <div class="stat-value" id="dominantEmotion">Waiting...</div>
                    </div>
                </div>
            </div>

            <div class="emotion-card">
                <h2 class="emotion-heading">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                    </svg>
                    Response Suggestions
                </h2>
                <div class="suggestions" id="emotionAdvice">
                    Start recording to see emotion analysis and suggestions.
                </div>
            </div>
        </section>
    </main>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <script>
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.querySelector('.mode-icon');
            body.classList.toggle('dark-mode');
            themeIcon.textContent = body.classList.contains('dark-mode') ? 'ðŸŒœ' : 'ðŸŒž';
        }
    </script>
</body>
</html>
